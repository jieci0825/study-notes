# 同源策略

浏览器有一个重要的安全策略，称之为`同源策略`

其中：源 = 协议 + 主机 + 端口，两个源相同，称之为同源，两个源不同，称之为跨域或者跨源

比如：

|              源1               |               源2                | 是否同源 |
| :----------------------------: | :------------------------------: | :------: |
|  http://aaa.com:8000/api/user  |  http://aaa.com:8000/api/books   |    ✅     |
| http://aaa.com:`8000`/api/user | http://aaa.com:`8888`/api/books  |   `❌`    |
| `http:`//aaa.com:8000/api/user | `https:`//aaa.com:8000/api/books |    ❌     |
| http://`aaa`.com:8000/api/user |  http://`bbb`.com:8000/api/user  |   `❌`    |

**同源策略是指，若页面的源（地址栏中的源）和运行过程中加载的源不一致时，出于安全考虑，浏览器会对跨域的资源访问进行一定的限制**

浏览器会对所有跨域资源进行限制，但是限制的严格程度不一样，对 css、js、img等资源的访问微乎其微，基本感知不到

但是对 ajax 限制就非常的厉害，默认情况下，压根就不允许 ajax 访问跨域资源

![image-20240415144715000](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240415144715000.png)

根据上面的示意图，可以看出，请求是实际发出去的，但是响应结果到浏览器的时候被拒收了

也因此，我们通常所说的跨域问题，也就是**同源策略对 ajax 产生的影响**

有多种方式可以解决跨域问题，常见的有：

- 代理，常用
- CORS，常用+推荐
- JSONP，不常用

无论使用哪一种方式，都是让浏览器知道这次跨域请求的是自己人，就不要拦截了